fragment RewardFields on Reward {
  rewardType
  asset {
    id
    symbol
    name
  }
  party {
    id
  }
  epoch {
    id
  }
  amount
  percentageOfTotal
  receivedAt
}

fragment DelegationFields on Delegation {
  amount
  epoch
}

query Rewards(
  $partyId: ID!
  $fromEpoch: Int
  $toEpoch: Int
  $rewardsPagination: Pagination
  $delegationsPagination: Pagination
) {
  party(id: $partyId) {
    id
    rewardsConnection(fromEpoch: $fromEpoch, toEpoch: $toEpoch, pagination: $rewardsPagination) {
      edges {
        node {
          ...RewardFields
        }
      }
    }
    delegationsConnection(pagination: $delegationsPagination) {
      edges {
        node {
          ...DelegationFields
        }
      }
    }
  }
}

fragment EpochRewardSummaryFields on EpochRewardSummary {
  epoch
  assetId
  amount
  rewardType
}

query EpochAssetsRewards($epochRewardSummariesFilter: RewardSummaryFilter, $epochRewardSummariesPagination: Pagination) {
  assetsConnection {
    edges {
      node {
        id
        name
      }
    }
  }
  epochRewardSummaries(filter: $epochRewardSummariesFilter, pagination: $epochRewardSummariesPagination) {
    edges {
      node {
        ...EpochRewardSummaryFields
      }
    }
  }
}

fragment EpochFields on Epoch {
  id
  timestamps {
    start
    end
    expiry
  }
}

query Epoch {
  epoch {
    ...EpochFields
  }
}
