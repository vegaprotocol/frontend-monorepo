query Fees($partyId: ID!, $volumeDiscountStatsEpochs: Int!) {
  epoch {
    id
  }
  currentReferralProgram {
    benefitTiers {
      minimumEpochs
      minimumRunningNotionalTakerVolume
      referralDiscountFactor
      referralRewardFactor
    }
  }
  currentVolumeDiscountProgram {
    benefitTiers {
      minimumRunningNotionalTakerVolume
      volumeDiscountFactor
    }
  }
  volumeDiscountStats(
    partyId: $partyId
    pagination: { last: $volumeDiscountStatsEpochs }
  ) {
    edges {
      node {
        atEpoch
        discountFactor
        runningVolume
      }
    }
  }
  referralSetReferees(referee: $partyId, aggregationDays: 7) {
    edges {
      node {
        referralSetId
        joinedAt
        atEpoch
        totalRefereeNotionalTakerVolume
      }
    }
  }
  referralSetStats(partyId: $partyId) {
    edges {
      node {
        atEpoch
        discountFactor
      }
    }
  }
}
