fragment TeamsFields on Team {
  teamId
  referrer
  name
  teamUrl
  avatarUrl
  createdAt
  createdAtEpoch
  closed
  totalMembers
}

query Teams($teamId: ID, $partyId: ID, $checkReferrals: Boolean = false) {
  teams(teamId: $teamId, partyId: $partyId) {
    edges {
      node {
        ...TeamsFields
      }
    }
  }
  referrer: referralSets(referrer: $partyId) @include(if: $checkReferrals) {
    edges {
      node {
        id
        referrer
      }
    }
  }
  referee: referralSets(referee: $partyId) @include(if: $checkReferrals) {
    edges {
      node {
        id
        referrer
      }
    }
  }
}
