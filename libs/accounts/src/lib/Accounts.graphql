fragment AccountFields on AccountBalance {
  type
  balance
  market {
    id
  }
  asset {
    id
  }
  party {
    id
  }
}

query PartyProfiles($partyIds: [ID!]) {
  partiesProfilesConnection(ids: $partyIds) {
    edges {
      node {
        partyId
        alias
        metadata {
          key
          value
        }
      }
    }
  }
}

query Accounts($partyId: ID!) {
  party(id: $partyId) {
    id
    accountsConnection {
      edges {
        node {
          ...AccountFields
        }
      }
    }
  }
}

subscription AccountEvents($partyId: ID) {
  accounts(partyId: $partyId) {
    type
    balance
    assetId
    marketId
    partyId
  }
}
