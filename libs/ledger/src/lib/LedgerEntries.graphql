fragment LedgerEntry on AggregatedLedgerEntry {
  vegaTime
  quantity
  assetId
  transferType
  receiverAccountType
  receiverMarketId
  receiverPartyId
  senderAccountType
  senderMarketId
  senderPartyId
}

query LedgerEntries(
  $partyId: ID!
  $pagination: Pagination
  $dateRange: DateRange
  $senderAccountType: [AccountType!]
  $receiverAccountType: [AccountType!]
) {
  ledgerEntries(
    filter: {
      SenderAccountFilter: {
        partyIds: [$partyId]
        accountTypes: $senderAccountType
      }
      ReceiverAccountFilter: {
        partyIds: [$partyId]
        accountTypes: $receiverAccountType
      }
    }
    pagination: $pagination
    dateRange: $dateRange
  ) {
    edges {
      node {
        ...LedgerEntry
      }
    }
    pageInfo {
      startCursor
      endCursor
      hasNextPage
      hasPreviousPage
    }
  }
}
