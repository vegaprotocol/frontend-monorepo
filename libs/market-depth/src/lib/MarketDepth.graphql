fragment DepthFields on MarketDepth {
  sell {
    price
    volume
    numberOfOrders
  }
  buy {
    price
    volume
    numberOfOrders
  }
  sequenceNumber
}

query MarketDepth($marketId: ID!) {
  market(id: $marketId) {
    id
    depth {
      ...DepthFields
    }
  }
}

fragment DepthEventFields on ObservableMarketDepthUpdate {
  marketId
  sell {
    price
    volume
    numberOfOrders
  }
  buy {
    price
    volume
    numberOfOrders
  }
  sequenceNumber
  previousSequenceNumber
}

subscription MarketDepthEvent($marketId: ID!) {
  marketsDepthUpdate(marketIds: [$marketId]) {
    ...DepthEventFields
  }
}
