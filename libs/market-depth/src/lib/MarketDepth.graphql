query MarketDepth($marketId: ID!) {
  market(id: $marketId) {
    id
    decimalPlaces
    positionDecimalPlaces
    data {
      staticMidPrice
      marketTradingMode
      indicativeVolume
      indicativePrice
      bestStaticBidPrice
      bestStaticOfferPrice
      market {
        id
      }
    }
    depth {
      lastTrade {
        price
      }
      sell {
        price
        volume
        numberOfOrders
      }
      buy {
        price
        volume
        numberOfOrders
      }
      sequenceNumber
    }
  }
}

subscription MarketDepthSubscription($marketIds: [ID!]!) {
  marketsDepthUpdate(marketIds: $marketIds) {
    marketId
    buy {
      price
      volume
      numberOfOrders
    }
    sell {
      price
      volume
      numberOfOrders
    }
    sequenceNumber
    previousSequenceNumber
  }
}
