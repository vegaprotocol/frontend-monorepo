fragment LatestTradeFields on Trade {
  id
  price
  size
  createdAt
  type
}

fragment LatestTradeUpdateFields on TradeUpdate {
  id
  price
  size
  createdAt
  type
}

# Gets the latest trades for given market and party ids
query LatestTrades($marketIds: [ID!], $partyIds: [ID!]) {
  trades(filter: { marketIds: $marketIds, partyIds: $partyIds }) {
    edges {
      node {
        ...LatestTradeFields
      }
    }
  }
}

subscription LatestTradesUpdate($marketIds: [ID!], $partyIds: [ID!]) {
  tradesStream(filter: { marketIds: $marketIds, partyIds: $partyIds }) {
    ...LatestTradeUpdateFields
  }
}
