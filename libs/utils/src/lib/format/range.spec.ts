import { formatRange, formatValue } from './range';

describe('formatValue', () => {
  it.each([
    { v: 123000, d: 5, o: '1.23' },
    { v: 123000, d: 3, o: '123' },
    { v: 123000, d: 1, o: '12,300' },
    { v: 123001000, d: 2, o: '1,230,010' },
    { v: 123001, d: 2, o: '1,230.01' },
    {
      v: '123456789123456789',
      d: 10,
      o: '12,345,678.9123456789',
    },
  ])('formatValue($v, $d) -> $o', ({ v, d, o }) => {
    expect(formatValue(v, d)).toStrictEqual(o);
  });

  it.each([
    { v: 123000, d: 5, o: '1.2300000', q: '1' },
    { v: 123000, d: 3, o: '123.00000', q: '1' },
    { v: 123000, d: 1, o: '12,300.000', q: '1' },
    { v: 123001000, d: 2, o: '1,230,010.0000', q: '1' },
    { v: 123001, d: 2, o: '1,230.01', q: '100' },
    { v: 123001, d: 2, o: '1,230.0100', q: '1' },
    {
      v: '123456789123456789',
      d: 10,
      o: '12,345,678.91234567890000000',
      q: '0.00003846',
    },
  ])('with quantum formatValue($v, $d, $q) -> $o', ({ v, d, o, q }) => {
    expect(formatValue(v.toString(), d, q)).toStrictEqual(o);
  });
});

describe('formatRange', () => {
  it.each([
    {
      min: 123000,
      max: 12300011111,
      d: 5,
      o: '1.2300000 - 123,000.1111100',
      q: '1',
    },
    {
      min: 123000,
      max: 12300011111,
      d: 3,
      o: '123.00000 - 12,300,011.11100',
      q: '1',
    },
    {
      min: 123000,
      max: 12300011111,
      d: 1,
      o: '12,300.000 - 1,230,001,111.100',
      q: '1',
    },
    {
      min: 123001000,
      max: 12300011111,
      d: 2,
      o: '1,230,010.00 - 123,000,111.11',
      q: '100',
    },
  ])('formatRange($min, $max, $d, $q) -> $o', ({ min, max, d, o, q }) => {
    expect(formatRange(min, max, d, q)).toStrictEqual(o);
  });
});
